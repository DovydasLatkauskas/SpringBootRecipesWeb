<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css">
    <title>Upload Recipe</title>
</head>
<body>
    <header>
        <h2>Recipe Upload</h2>
    </header>
    <form method="post" id="recipe-form">
      <label for="name" id="name-label">Name of your recipe
        <input type="text" id="name" required placeholder="recipe name">
      </label>
      <label for="author" id="author-label">Your name
        <input type="text" id="author" required placeholder="author's name">
      </label>
      <label for="prep-time" id="prep-time-label">Preparation time
        <input type="number" id="prep-time" min="0" required placeholder="prep time">
      </label>
      <label for="cook-time" id="cook-time-label">Cooking time
        <input type="number" id="cook-time" min="0" required placeholder="cook time">
      </label>
      <label for="ingredient-box">What ingredients does one need for this recipe?
        <textarea placeholder="type each ingredient on a separate row using the enter button" rows="4" cols="40" id="ingredient-box"></textarea>
      </label>
      <label for="direction-box">How does one prepare this dish?
        <textarea placeholder="write each direction on a separate row using the enter button" rows="4" cols="40" id="directions-box"></textarea>
      </label>
    </form>

    <!-- <input id="recipe-upload" type="file" name="recipe-upload"> -->
    <button id="upload-button" onclick="uploadRecipe()"> Upload </button>
    <script> //TODO change this, so we upload recipes not files (check around 35:00)
    async function uploadRecipe(){
      let formData = new FormData();
      formData.append("data", fileupload.files[0]);
      await fetch("http://localhost:8080/recipes",{
        method: "POST",
        body: formData
      }).then(result => result.text()).then(text => alert(text));
    }
  </script>
</body>
</html>